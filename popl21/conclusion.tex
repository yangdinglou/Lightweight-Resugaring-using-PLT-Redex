%!TEX root = ./main.tex
\section{Conclusion}
\label{sec7}

%Summarize the paper, explaining what you have shown, what results you have achieved, and what future work is.

In this paper, we purpose an efficient, powerful, and lightweight resugaring approach by lazy desugaring.
%Essentially, we would see the derivation of evaluation rules is the abstract of the basic resugaring approach.
In our basic resugaring algorithm, the most important part is the reduction definition for the  mixed language (Section \ref{mark:mixedreduction}), which decides whether it should reduce the subexpression or desugar the outermost sugar.
To gain more efficiency, we enhance the basic algorithm with automatic derivation of  evaluation rules for syntactic sugars.
In fact, reducing subexpressions corresponds to  deriving context rules, while desugaring the outermost sugar corresponds to deriving reduction rules.

%The evaluation rules, if can be got, is more convenient and efficient than the basic resugaring, because the derivation evolves a process like abstract interpretation\cite{AbstractInterpretation}, then reduces many steps executed in core language. Moreover, the semantics got by derivation make it possible to do some optimization at the surface language level, which is important for implementing a DSL. However, the derivation method has more restrictions than our basic resugaring approach, so not powerful enough to handle all cases that can be processed by the resugaring. So we use the derivate rules as a shortcut for our basic resugaring.

As for the future work, we found side effect is troublesome to handle in resugaring, because once a side effect is taken in RHS of a desugaring rule, the sugar cannot be easily resugared according to \emph{emulation} property. We need to find a gentler way to handle sugars with side effects. In addition, we found the derivation of evaluation rules can be a general method to be used on other application (e.g., implementing DSL), but the assumptions of IFA in our setting limit its power. We are working on relaxing the assumption to get a more powerful derivation method.
